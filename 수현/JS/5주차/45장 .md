
# 프로미스

프로미스는 자바스크립트의 표준인 ES6에 새롭게 추가된, 비동기 작업을 효율적으로 처리하기 위한 방법임.

# 비동기 처리를 위한 콜백 패턴의 단점

자바스크립트에서 시간이 오래 걸리는 작업(예: 네트워크 통신)은 결과가 나올 때까지 기다리지 않고 다음 코드를 바로 실행함. 
이런 방식을 비동기 처리라고 함.

기존에는 비동기 작업이 끝난 후 특정 코드를 실행하기 위해 콜백 함수를 주로 사용했음. 
하지만 비동기 작업이 여러 개 겹치거나 의존성을 가질 경우, 콜백 함수 안에 또 콜백 함수를 넣는 식으로 코드가 복잡해지고 관리하기 어려워지는 콜백 지옥 같은 문제가 발생할 수 있었음. 
또한 비동기 작업의 결과를 바로 반환하거나 상위 스코프 변수에 할당하기 어려웠음.

# 프로미스의 생성

프로미스는 new Promise()와 같이 Promise 생성자 함수를 호출하여 만듦.

Promise 생성자에 전달하는 함수 안에서 실제 비동기 작업을 수행함. 작업이 성공적으로 끝나면 첫 번째 인자로 받은 resolve 함수를 호출하여 결과를 넘겨주고, 실패하면 두 번째 인자로 받은 reject 함수를 호출하여 실패 이유를 전달함.



## fetch

fetch 함수는 웹 브라우저에서 제공하는 기능(Web API)으로, 서버에 HTTP 요청을 보내 데이터를 주고받을 때 사용됨. 
기존의 XMLHttpRequest 객체와 같은 역할을 하지만, 사용법이 훨씬 간단하고 프로미스를 기반으로 동작하여 비동기 처리의 단점에서 벗어날 수 있음.

fetch는 인터넷 익스플로러를 제외한 대부분의 최신 브라우저에서 지원함.

fetch 함수는 요청을 보낼 URL과 함께 HTTP 메서드, 헤더, 보낼 데이터(페이로드) 등의 설정 객체를 인자로 받을 수 있음.

fetch 함수를 호출하면 프로미스 객체를 반환함. 이 프로미스는 서버로부터 받은 HTTP 응답(Response 객체)을 감싸고 있음.

fetch가 반환하는 프로미스는 서버에서 404(찾을 수 없음), 500(서버 오류) 같은 HTTP 상태 코드로 오류가 발생해도 기본적으로 reject되지 않음. 
대신, 응답을 나타내는 Response 객체의 ok 속성이 false로 설정된 채 resolve됨. 
프로미스가 reject되는 경우는 네트워크 연결 실패나 CORS(교차 출처) 문제로 요청 자체가 완료되지 못했을 때뿐임.