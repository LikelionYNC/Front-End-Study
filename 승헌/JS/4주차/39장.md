## 39장 DOM

DOM은 HTML 문서의 계층적 구조와 정보를 표현하며 이를 제어할 수 있는 API, 즉 프로퍼티와 메서드를 제공하는 트리 자료구조다. 노드 객체들로 구성된 트리 자료구조를 DOM이라 한다. 노드 객체의 트리로 구조화되어 있기 때문에 DOM을 DOM 트리라고 부르기도 한다.

- **문서 노드 (Document Node)**
  → DOM 트리의 최상위 노드. HTML 문서 전체를 나타내며, `window.document`로 접근한다.
- **요소 노드 (Element Node)**
  → HTML 요소를 나타내며, 요소 간의 부모-자식 관계를 통해 문서 구조를 구성한다.
- **어트리뷰트 노드 (Attribute Node)**
  → HTML 요소의 속성을 나타낸다. 요소에 종속되어 존재하며, 별도로 트리 구조를 만들지 않는다.
- **텍스트 노드 (Text Node)**
  → HTML 요소 내부의 텍스트를 나타낸다. 텍스트 노드는 항상 요소 노드에 종속된다.

### 39.2 요소 노드 취득

---

- **id로 요소 노드 취득**
  → `getElementById('id명')`
- **태그 이름으로 요소 노드 취득**
  → `getElementsByTagName('태그명')`
- **class로 요소 노드 취득**
  → `getElementsByClassName('클래스명')`
- **CSS 선택자를 이용해 요소 노드 취득**
  → `querySelector('선택자')`, `querySelectorAll('선택자')`
- **특정 요소 노드를 취득할 수 있는지 확인**
  → 취득한 노드가 존재하는지 조건문 등으로 확인
- **HTMLCollection과 NodeList**
  → HTMLCollection은 실시간 반영, NodeList는 정적인 경우가 있다.

### 39.3 노드 탐색

---

요소 노드를 취득한 다음, 취득한 요소 노드를 기점으로 DOM 트리의 노드를 옮겨 다니며 부모, 형제, 자식 노드 등를 탐색해야 할 때가 있다.

- **공백 텍스트 노드**
  → HTML 코드에 있는 공백(띄어쓰기, 줄바꿈 등)도 텍스트 노드로 인식될 수 있다.
- **자식 노드 탐색**
  → `.childNodes`, `.children` 등을 이용해 자식 노드를 탐색한다.
- **자식 노드 존재 확인**
  → `.hasChildNodes()` 메서드로 자식 노드가 있는지 확인할 수 있다.
- **요소 노드의 텍스트 노드 탐색**
  → 요소 내부의 텍스트만 따로 접근할 때 텍스트 노드를 탐색한다.
- **부모 노드 탐색**
  → `.parentNode` 또는 `.parentElement`로 부모 노드를 찾는다.
- **형제 노드 탐색**
  → `.previousSibling`, `.nextSibling` 또는 `.previousElementSibling`, `.nextElementSibling`을 사용한다.

### 39.4 노드 정보 취득

---

노드 객체에 대한 정보를 취득하기 위한 노드 정보 프로퍼티

| 프로퍼티                | 설명                                                                                                                                                                                                     |
| ----------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Node.prototype.nodeType | 노드 객체의 종류(타입)를 나타내는 상수를 반환한다.<br>- `Node.ELEMENT_NODE`: 요소 노드 타입 (1 반환)<br>- `Node.TEXT_NODE`: 텍스트 노드 타입 (3 반환)<br>- `Node.DOCUMENT_NODE`: 문서 노드 타입 (9 반환) |
| Node.prototype.nodeName | 노드의 이름을 문자열로 반환한다.<br>- 요소 노드: 대문자 태그 이름 ("UL", "LI" 등)<br>- 텍스트 노드: "#text" 반환<br>- 문서 노드: "#document" 반환                                                        |

### 39.6 DOM 조작

---

DOM 조작은 새로운 노드를 생성하여 DOM에 추가하거나 기존 노드를 삭제 또는 교체하는 것을 말한다. DOM 조작에 의해 DOM에 새로운 노드가 추가되거나 삭제되면 리플로우와 리페인트가 발생하는 원인이 되므로 성능에 영향을 준다.

- **innerHTML**
  → 요소 내부 HTML 코드를 읽거나 수정한다.
- **insertAdjacentHTML 메서드**
  → 지정한 위치에 HTML 문자열을 삽입한다.
- **노드 생성과 추가**
  → `createElement`, `appendChild` 등을 사용해 새 노드를 만든다.
- **복수의 노드 생성과 추가**
  → 여러 노드를 한꺼번에 추가한다.
- **노드 삽입**
  → `insertBefore`를 사용해 특정 위치에 새 노드를 삽입한다.
- **노드 이동**
  → 기존 노드를 다른 위치로 옮긴다 (추가처럼 다룸).
- **노드 복사**
  → `cloneNode`를 사용해 노드를 복제한다.
- **노드 교체**
  → `replaceChild`로 기존 노드를 새 노드로 교체한다.
- **노드 삭제**
  → `removeChild`나 `remove`를 사용해 노드를 제거한다.

### 39.7 어트리뷰트

---

HTML 문서의 구성 요소인 HTML 요소는 여러 개의 어트리뷰트를 가질 수 있다. HTML 요소의 동작을 제어하기 위한 추거적인 정보를 제공하는 HTML 어트리뷰트는 HTML 요소의 시작 태그에 어트리뷰트 이름 =”어트리뷰트 값” 형식으로 정의한다.
