# useReducer와 상태 관리

## useReducer 이해하기

### 상태 변화 코드란?

- State 값을 변경하는 코드
- 상태 변화 코드를 컴포넌트에서 분리 = 컴포넌트 내부에 작성한 상태 변화 코드를 외부에 작성
- useState를 사용하면 반드시 컴포넌트 내부에 작성해야 함
- 하지만 useReducer를 사용하면 상태 변화 코드를 컴포넌트 밖으로 분리할 수 있음
- 하나의 컴포넌트 안에 너무 많은 상태 변화 코드가 있으면 가독성을 해침

### useReducer의 기본 사용법

```js
const [count, dispatch] = useReducer(reducer, 0);

const [state변수, 상태변화촉발함수] = 생성자(상태변화함수, 초깃값);
```

```js
        <button onClick={() => dispatch({ type: "INCREASE", data: 1 })}>
          +
        </button>
        <button onClick={() => dispatch({ type: "DECREASE", data: 1 })}>
          -
        </button>
```

- <+> 버튼, <-> 버튼을 클릭하면 함수 dispatch를 호출하고 인수로 객체를 전달
- 객체는 State의 변경 정보를 담고 있음 (action 객체라고도 함)
- 하지만 reducer를 설정해주지 않았기 때문에 카운트는 늘거나 줄지 않음

```js
function reducer(state, action) {
  // 1
  switch (action.type) {
    case "INCREASE": // 2
      return state + action.data;
    case "DECREASE":
      return state - action.data;
    default: // 3
      return state;
  }
}
```

1. reducer 함수의 첫 번째 매개변수 state에는 현재 state 값이 저장되고 action에는 dispatch를 호출하면서 인수로 전달한 action 객체가 저장됨
2. 함수 reducer가 반환하는 값이 새로운 State 값이 됨 (INCREASE일 때와 DECREASE일 때 값이 다르게 변화함)
3. action 객체의 type이 지정해준 값이 아니면 아무런 상태 변화도 이루어지지 않음

- 새로운 상태 변화가 필요할 경우 reducer 함수를 적절하게 수정해주기만 하면 됨
