# 컴포넌트 트리에 데이터 공급하기

## Context

### Context를 사용하는 이유

- Props Drilling 문제를 해결하기 위해 사용
- 이 문제는 리액트 컴포넌트 계층 구조에서 컴포넌트 간에 값을 전달할 때 발생
- 리액트에서는 트리에서 2단계 이상 떨어져 있는 컴포넌트에 직접 데이터를 전달하는 것이 불가능함
- 원하는 목적지까지 데이터를 전달하기 위해서는 경로상에 있는 모든 컴포넌트에 일일이 Props를 전달해야 함
- 드릴로 땅을 파고 내려가는 것과 같다고 하여 이렇게 이름 붙여짐

### Context란?

- 문맥이라는 뜻으로 쓰임
- 컴포넌트 A와 컴포넌트 B가 동일한 문맥 아래 있다는 말은, 두 컴포넌트가 동일한 목적을 가지고 있다는 뜻으로 이해할 수 있음
- 리액트에서 Context는 같은 문맥 아래에 있는 컴포넌트 그룹에 데이터를 공급하는 기능
- Context를 이용하면 단계마다 일일이 Props를 전달하지 않고도 컴포넌트 트리 전역에 데이터를 공급할 수 있어 Data Drilling 문제를 간단히 해결할 수 있음

### ContextAPI

- Context를 만들고 다루는 리액트 기능

#### Context 만들기

```js
const MyContext = React.createContext(defaultValue);
```

#### Context에 데이터 공급하기

```js
function App() {
  const data = "data";
  return (
    <div>
      <MyContext.Provider value={data}>
        <Body />
      </MyContext.Provider>
    </div>
  );
}
```

- `Context.Provider` 컴포넌트는 Props로 공급할 데이터를 받아 컴포넌트 트리에서 자신보다 하위에 있는 모든 컴포넌트에 데이터를 공급함
